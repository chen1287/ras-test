
if __package__ or "." in __name__:
	from . import xspcomm as xsp
else:
	import xspcomm as xsp

if __package__ or "." in __name__:
	from .libUT_Tage_SC import *
else:
	from libUT_Tage_SC import *


class DUTTage_SC(DutUnifiedBase):

	# 初始化
	def __init__(self, waveform_filename=None, coverage_filename=None, *a, **kw):
		super().__init__(*a, **kw)
		self.xclock = xsp.XClock(self.step)
		self.port  = xsp.XPort()
		self.xclock.Add(self.port)
		self.event = self.xclock.getEvent()

		# set output files
		if waveform_filename:
			super().set_waveform(waveform_filename)
		if coverage_filename:
			super().set_coverage(coverage_filename)

		# all Pins
		self.clock = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.reset = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_reset_vector = xsp.XPin(xsp.XData(36, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_0 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_1 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_3 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_17_folded_hist = xsp.XPin(xsp.XData(11, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_16_folded_hist = xsp.XPin(xsp.XData(11, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_15_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_14_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_9_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_8_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_7_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_5_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_4_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_3_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_1_hist_1_folded_hist = xsp.XPin(xsp.XData(11, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_3_hist_12_folded_hist = xsp.XPin(xsp.XData(4, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_3_hist_11_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_in_bits_folded_hist_3_hist_2_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_out_s2_full_pred_0_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_0_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_1_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_1_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_2_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_2_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_3_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s2_full_pred_3_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_0_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_0_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_1_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_1_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_2_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_2_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_3_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s3_full_pred_3_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_last_stage_meta = xsp.XPin(xsp.XData(223, xsp.XData.Out), self.event)
		self.io_ctrl_tage_enable = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_ctrl_sc_enable = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_3 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s1_fire_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s1_fire_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s1_fire_2 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s1_fire_3 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s2_fire_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s2_fire_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s2_fire_2 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s2_fire_3 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s1_ready = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_update_valid = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_pc = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_17_folded_hist = xsp.XPin(xsp.XData(11, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_16_folded_hist = xsp.XPin(xsp.XData(11, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_15_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_14_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_12_folded_hist = xsp.XPin(xsp.XData(4, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_11_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_9_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_8_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_7_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_5_folded_hist = xsp.XPin(xsp.XData(7, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_4_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_3_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_2_folded_hist = xsp.XPin(xsp.XData(8, xsp.XData.In), self.event)
		self.io_update_bits_spec_info_folded_hist_hist_1_folded_hist = xsp.XPin(xsp.XData(11, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_brSlots_0_valid = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_sharing = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_valid = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_always_taken_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_always_taken_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_mispred_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_mispred_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_meta = xsp.XPin(xsp.XData(223, xsp.XData.In), self.event)
		self.io_perf_0_value = xsp.XPin(xsp.XData(6, xsp.XData.Out), self.event)
		self.io_perf_1_value = xsp.XPin(xsp.XData(6, xsp.XData.Out), self.event)
		self.io_perf_2_value = xsp.XPin(xsp.XData(6, xsp.XData.Out), self.event)


		# BindDPI
		self.clock.BindDPIRW(DPIRclock, DPIWclock)
		self.reset.BindDPIRW(DPIRreset, DPIWreset)
		self.io_reset_vector.BindDPIRW(DPIRio_reset_vector, DPIWio_reset_vector)
		self.io_in_bits_s0_pc_0.BindDPIRW(DPIRio_in_bits_s0_pc_0, DPIWio_in_bits_s0_pc_0)
		self.io_in_bits_s0_pc_1.BindDPIRW(DPIRio_in_bits_s0_pc_1, DPIWio_in_bits_s0_pc_1)
		self.io_in_bits_s0_pc_3.BindDPIRW(DPIRio_in_bits_s0_pc_3, DPIWio_in_bits_s0_pc_3)
		self.io_in_bits_folded_hist_1_hist_17_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_17_folded_hist, DPIWio_in_bits_folded_hist_1_hist_17_folded_hist)
		self.io_in_bits_folded_hist_1_hist_16_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_16_folded_hist, DPIWio_in_bits_folded_hist_1_hist_16_folded_hist)
		self.io_in_bits_folded_hist_1_hist_15_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_15_folded_hist, DPIWio_in_bits_folded_hist_1_hist_15_folded_hist)
		self.io_in_bits_folded_hist_1_hist_14_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_14_folded_hist, DPIWio_in_bits_folded_hist_1_hist_14_folded_hist)
		self.io_in_bits_folded_hist_1_hist_9_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_9_folded_hist, DPIWio_in_bits_folded_hist_1_hist_9_folded_hist)
		self.io_in_bits_folded_hist_1_hist_8_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_8_folded_hist, DPIWio_in_bits_folded_hist_1_hist_8_folded_hist)
		self.io_in_bits_folded_hist_1_hist_7_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_7_folded_hist, DPIWio_in_bits_folded_hist_1_hist_7_folded_hist)
		self.io_in_bits_folded_hist_1_hist_5_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_5_folded_hist, DPIWio_in_bits_folded_hist_1_hist_5_folded_hist)
		self.io_in_bits_folded_hist_1_hist_4_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_4_folded_hist, DPIWio_in_bits_folded_hist_1_hist_4_folded_hist)
		self.io_in_bits_folded_hist_1_hist_3_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_3_folded_hist, DPIWio_in_bits_folded_hist_1_hist_3_folded_hist)
		self.io_in_bits_folded_hist_1_hist_1_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_1_hist_1_folded_hist, DPIWio_in_bits_folded_hist_1_hist_1_folded_hist)
		self.io_in_bits_folded_hist_3_hist_12_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_3_hist_12_folded_hist, DPIWio_in_bits_folded_hist_3_hist_12_folded_hist)
		self.io_in_bits_folded_hist_3_hist_11_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_3_hist_11_folded_hist, DPIWio_in_bits_folded_hist_3_hist_11_folded_hist)
		self.io_in_bits_folded_hist_3_hist_2_folded_hist.BindDPIRW(DPIRio_in_bits_folded_hist_3_hist_2_folded_hist, DPIWio_in_bits_folded_hist_3_hist_2_folded_hist)
		self.io_out_s2_full_pred_0_br_taken_mask_0.BindDPIRW(DPIRio_out_s2_full_pred_0_br_taken_mask_0, DPIWio_out_s2_full_pred_0_br_taken_mask_0)
		self.io_out_s2_full_pred_0_br_taken_mask_1.BindDPIRW(DPIRio_out_s2_full_pred_0_br_taken_mask_1, DPIWio_out_s2_full_pred_0_br_taken_mask_1)
		self.io_out_s2_full_pred_1_br_taken_mask_0.BindDPIRW(DPIRio_out_s2_full_pred_1_br_taken_mask_0, DPIWio_out_s2_full_pred_1_br_taken_mask_0)
		self.io_out_s2_full_pred_1_br_taken_mask_1.BindDPIRW(DPIRio_out_s2_full_pred_1_br_taken_mask_1, DPIWio_out_s2_full_pred_1_br_taken_mask_1)
		self.io_out_s2_full_pred_2_br_taken_mask_0.BindDPIRW(DPIRio_out_s2_full_pred_2_br_taken_mask_0, DPIWio_out_s2_full_pred_2_br_taken_mask_0)
		self.io_out_s2_full_pred_2_br_taken_mask_1.BindDPIRW(DPIRio_out_s2_full_pred_2_br_taken_mask_1, DPIWio_out_s2_full_pred_2_br_taken_mask_1)
		self.io_out_s2_full_pred_3_br_taken_mask_0.BindDPIRW(DPIRio_out_s2_full_pred_3_br_taken_mask_0, DPIWio_out_s2_full_pred_3_br_taken_mask_0)
		self.io_out_s2_full_pred_3_br_taken_mask_1.BindDPIRW(DPIRio_out_s2_full_pred_3_br_taken_mask_1, DPIWio_out_s2_full_pred_3_br_taken_mask_1)
		self.io_out_s3_full_pred_0_br_taken_mask_0.BindDPIRW(DPIRio_out_s3_full_pred_0_br_taken_mask_0, DPIWio_out_s3_full_pred_0_br_taken_mask_0)
		self.io_out_s3_full_pred_0_br_taken_mask_1.BindDPIRW(DPIRio_out_s3_full_pred_0_br_taken_mask_1, DPIWio_out_s3_full_pred_0_br_taken_mask_1)
		self.io_out_s3_full_pred_1_br_taken_mask_0.BindDPIRW(DPIRio_out_s3_full_pred_1_br_taken_mask_0, DPIWio_out_s3_full_pred_1_br_taken_mask_0)
		self.io_out_s3_full_pred_1_br_taken_mask_1.BindDPIRW(DPIRio_out_s3_full_pred_1_br_taken_mask_1, DPIWio_out_s3_full_pred_1_br_taken_mask_1)
		self.io_out_s3_full_pred_2_br_taken_mask_0.BindDPIRW(DPIRio_out_s3_full_pred_2_br_taken_mask_0, DPIWio_out_s3_full_pred_2_br_taken_mask_0)
		self.io_out_s3_full_pred_2_br_taken_mask_1.BindDPIRW(DPIRio_out_s3_full_pred_2_br_taken_mask_1, DPIWio_out_s3_full_pred_2_br_taken_mask_1)
		self.io_out_s3_full_pred_3_br_taken_mask_0.BindDPIRW(DPIRio_out_s3_full_pred_3_br_taken_mask_0, DPIWio_out_s3_full_pred_3_br_taken_mask_0)
		self.io_out_s3_full_pred_3_br_taken_mask_1.BindDPIRW(DPIRio_out_s3_full_pred_3_br_taken_mask_1, DPIWio_out_s3_full_pred_3_br_taken_mask_1)
		self.io_out_last_stage_meta.BindDPIRW(DPIRio_out_last_stage_meta, DPIWio_out_last_stage_meta)
		self.io_ctrl_tage_enable.BindDPIRW(DPIRio_ctrl_tage_enable, DPIWio_ctrl_tage_enable)
		self.io_ctrl_sc_enable.BindDPIRW(DPIRio_ctrl_sc_enable, DPIWio_ctrl_sc_enable)
		self.io_s0_fire_0.BindDPIRW(DPIRio_s0_fire_0, DPIWio_s0_fire_0)
		self.io_s0_fire_1.BindDPIRW(DPIRio_s0_fire_1, DPIWio_s0_fire_1)
		self.io_s0_fire_3.BindDPIRW(DPIRio_s0_fire_3, DPIWio_s0_fire_3)
		self.io_s1_fire_0.BindDPIRW(DPIRio_s1_fire_0, DPIWio_s1_fire_0)
		self.io_s1_fire_1.BindDPIRW(DPIRio_s1_fire_1, DPIWio_s1_fire_1)
		self.io_s1_fire_2.BindDPIRW(DPIRio_s1_fire_2, DPIWio_s1_fire_2)
		self.io_s1_fire_3.BindDPIRW(DPIRio_s1_fire_3, DPIWio_s1_fire_3)
		self.io_s2_fire_0.BindDPIRW(DPIRio_s2_fire_0, DPIWio_s2_fire_0)
		self.io_s2_fire_1.BindDPIRW(DPIRio_s2_fire_1, DPIWio_s2_fire_1)
		self.io_s2_fire_2.BindDPIRW(DPIRio_s2_fire_2, DPIWio_s2_fire_2)
		self.io_s2_fire_3.BindDPIRW(DPIRio_s2_fire_3, DPIWio_s2_fire_3)
		self.io_s1_ready.BindDPIRW(DPIRio_s1_ready, DPIWio_s1_ready)
		self.io_update_valid.BindDPIRW(DPIRio_update_valid, DPIWio_update_valid)
		self.io_update_bits_pc.BindDPIRW(DPIRio_update_bits_pc, DPIWio_update_bits_pc)
		self.io_update_bits_spec_info_folded_hist_hist_17_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_17_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_17_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_16_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_16_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_16_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_15_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_15_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_15_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_14_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_14_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_14_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_12_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_12_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_12_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_11_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_11_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_11_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_9_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_9_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_9_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_8_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_8_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_8_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_7_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_7_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_7_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_5_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_5_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_5_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_4_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_4_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_4_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_3_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_3_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_3_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_2_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_2_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_2_folded_hist)
		self.io_update_bits_spec_info_folded_hist_hist_1_folded_hist.BindDPIRW(DPIRio_update_bits_spec_info_folded_hist_hist_1_folded_hist, DPIWio_update_bits_spec_info_folded_hist_hist_1_folded_hist)
		self.io_update_bits_ftb_entry_brSlots_0_valid.BindDPIRW(DPIRio_update_bits_ftb_entry_brSlots_0_valid, DPIWio_update_bits_ftb_entry_brSlots_0_valid)
		self.io_update_bits_ftb_entry_tailSlot_sharing.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_sharing, DPIWio_update_bits_ftb_entry_tailSlot_sharing)
		self.io_update_bits_ftb_entry_tailSlot_valid.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_valid, DPIWio_update_bits_ftb_entry_tailSlot_valid)
		self.io_update_bits_ftb_entry_always_taken_0.BindDPIRW(DPIRio_update_bits_ftb_entry_always_taken_0, DPIWio_update_bits_ftb_entry_always_taken_0)
		self.io_update_bits_ftb_entry_always_taken_1.BindDPIRW(DPIRio_update_bits_ftb_entry_always_taken_1, DPIWio_update_bits_ftb_entry_always_taken_1)
		self.io_update_bits_br_taken_mask_0.BindDPIRW(DPIRio_update_bits_br_taken_mask_0, DPIWio_update_bits_br_taken_mask_0)
		self.io_update_bits_br_taken_mask_1.BindDPIRW(DPIRio_update_bits_br_taken_mask_1, DPIWio_update_bits_br_taken_mask_1)
		self.io_update_bits_mispred_mask_0.BindDPIRW(DPIRio_update_bits_mispred_mask_0, DPIWio_update_bits_mispred_mask_0)
		self.io_update_bits_mispred_mask_1.BindDPIRW(DPIRio_update_bits_mispred_mask_1, DPIWio_update_bits_mispred_mask_1)
		self.io_update_bits_meta.BindDPIRW(DPIRio_update_bits_meta, DPIWio_update_bits_meta)
		self.io_perf_0_value.BindDPIRW(DPIRio_perf_0_value, DPIWio_perf_0_value)
		self.io_perf_1_value.BindDPIRW(DPIRio_perf_1_value, DPIWio_perf_1_value)
		self.io_perf_2_value.BindDPIRW(DPIRio_perf_2_value, DPIWio_perf_2_value)

		# Add2Port
		self.port.Add("clock", self.clock.xdata)
		self.port.Add("reset", self.reset.xdata)
		self.port.Add("io_reset_vector", self.io_reset_vector.xdata)
		self.port.Add("io_in_bits_s0_pc_0", self.io_in_bits_s0_pc_0.xdata)
		self.port.Add("io_in_bits_s0_pc_1", self.io_in_bits_s0_pc_1.xdata)
		self.port.Add("io_in_bits_s0_pc_3", self.io_in_bits_s0_pc_3.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_17_folded_hist", self.io_in_bits_folded_hist_1_hist_17_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_16_folded_hist", self.io_in_bits_folded_hist_1_hist_16_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_15_folded_hist", self.io_in_bits_folded_hist_1_hist_15_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_14_folded_hist", self.io_in_bits_folded_hist_1_hist_14_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_9_folded_hist", self.io_in_bits_folded_hist_1_hist_9_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_8_folded_hist", self.io_in_bits_folded_hist_1_hist_8_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_7_folded_hist", self.io_in_bits_folded_hist_1_hist_7_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_5_folded_hist", self.io_in_bits_folded_hist_1_hist_5_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_4_folded_hist", self.io_in_bits_folded_hist_1_hist_4_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_3_folded_hist", self.io_in_bits_folded_hist_1_hist_3_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_1_hist_1_folded_hist", self.io_in_bits_folded_hist_1_hist_1_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_3_hist_12_folded_hist", self.io_in_bits_folded_hist_3_hist_12_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_3_hist_11_folded_hist", self.io_in_bits_folded_hist_3_hist_11_folded_hist.xdata)
		self.port.Add("io_in_bits_folded_hist_3_hist_2_folded_hist", self.io_in_bits_folded_hist_3_hist_2_folded_hist.xdata)
		self.port.Add("io_out_s2_full_pred_0_br_taken_mask_0", self.io_out_s2_full_pred_0_br_taken_mask_0.xdata)
		self.port.Add("io_out_s2_full_pred_0_br_taken_mask_1", self.io_out_s2_full_pred_0_br_taken_mask_1.xdata)
		self.port.Add("io_out_s2_full_pred_1_br_taken_mask_0", self.io_out_s2_full_pred_1_br_taken_mask_0.xdata)
		self.port.Add("io_out_s2_full_pred_1_br_taken_mask_1", self.io_out_s2_full_pred_1_br_taken_mask_1.xdata)
		self.port.Add("io_out_s2_full_pred_2_br_taken_mask_0", self.io_out_s2_full_pred_2_br_taken_mask_0.xdata)
		self.port.Add("io_out_s2_full_pred_2_br_taken_mask_1", self.io_out_s2_full_pred_2_br_taken_mask_1.xdata)
		self.port.Add("io_out_s2_full_pred_3_br_taken_mask_0", self.io_out_s2_full_pred_3_br_taken_mask_0.xdata)
		self.port.Add("io_out_s2_full_pred_3_br_taken_mask_1", self.io_out_s2_full_pred_3_br_taken_mask_1.xdata)
		self.port.Add("io_out_s3_full_pred_0_br_taken_mask_0", self.io_out_s3_full_pred_0_br_taken_mask_0.xdata)
		self.port.Add("io_out_s3_full_pred_0_br_taken_mask_1", self.io_out_s3_full_pred_0_br_taken_mask_1.xdata)
		self.port.Add("io_out_s3_full_pred_1_br_taken_mask_0", self.io_out_s3_full_pred_1_br_taken_mask_0.xdata)
		self.port.Add("io_out_s3_full_pred_1_br_taken_mask_1", self.io_out_s3_full_pred_1_br_taken_mask_1.xdata)
		self.port.Add("io_out_s3_full_pred_2_br_taken_mask_0", self.io_out_s3_full_pred_2_br_taken_mask_0.xdata)
		self.port.Add("io_out_s3_full_pred_2_br_taken_mask_1", self.io_out_s3_full_pred_2_br_taken_mask_1.xdata)
		self.port.Add("io_out_s3_full_pred_3_br_taken_mask_0", self.io_out_s3_full_pred_3_br_taken_mask_0.xdata)
		self.port.Add("io_out_s3_full_pred_3_br_taken_mask_1", self.io_out_s3_full_pred_3_br_taken_mask_1.xdata)
		self.port.Add("io_out_last_stage_meta", self.io_out_last_stage_meta.xdata)
		self.port.Add("io_ctrl_tage_enable", self.io_ctrl_tage_enable.xdata)
		self.port.Add("io_ctrl_sc_enable", self.io_ctrl_sc_enable.xdata)
		self.port.Add("io_s0_fire_0", self.io_s0_fire_0.xdata)
		self.port.Add("io_s0_fire_1", self.io_s0_fire_1.xdata)
		self.port.Add("io_s0_fire_3", self.io_s0_fire_3.xdata)
		self.port.Add("io_s1_fire_0", self.io_s1_fire_0.xdata)
		self.port.Add("io_s1_fire_1", self.io_s1_fire_1.xdata)
		self.port.Add("io_s1_fire_2", self.io_s1_fire_2.xdata)
		self.port.Add("io_s1_fire_3", self.io_s1_fire_3.xdata)
		self.port.Add("io_s2_fire_0", self.io_s2_fire_0.xdata)
		self.port.Add("io_s2_fire_1", self.io_s2_fire_1.xdata)
		self.port.Add("io_s2_fire_2", self.io_s2_fire_2.xdata)
		self.port.Add("io_s2_fire_3", self.io_s2_fire_3.xdata)
		self.port.Add("io_s1_ready", self.io_s1_ready.xdata)
		self.port.Add("io_update_valid", self.io_update_valid.xdata)
		self.port.Add("io_update_bits_pc", self.io_update_bits_pc.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_17_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_17_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_16_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_16_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_15_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_15_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_14_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_14_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_12_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_12_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_11_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_11_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_9_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_9_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_8_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_8_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_7_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_7_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_5_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_5_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_4_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_4_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_3_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_3_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_2_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_2_folded_hist.xdata)
		self.port.Add("io_update_bits_spec_info_folded_hist_hist_1_folded_hist", self.io_update_bits_spec_info_folded_hist_hist_1_folded_hist.xdata)
		self.port.Add("io_update_bits_ftb_entry_brSlots_0_valid", self.io_update_bits_ftb_entry_brSlots_0_valid.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_sharing", self.io_update_bits_ftb_entry_tailSlot_sharing.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_valid", self.io_update_bits_ftb_entry_tailSlot_valid.xdata)
		self.port.Add("io_update_bits_ftb_entry_always_taken_0", self.io_update_bits_ftb_entry_always_taken_0.xdata)
		self.port.Add("io_update_bits_ftb_entry_always_taken_1", self.io_update_bits_ftb_entry_always_taken_1.xdata)
		self.port.Add("io_update_bits_br_taken_mask_0", self.io_update_bits_br_taken_mask_0.xdata)
		self.port.Add("io_update_bits_br_taken_mask_1", self.io_update_bits_br_taken_mask_1.xdata)
		self.port.Add("io_update_bits_mispred_mask_0", self.io_update_bits_mispred_mask_0.xdata)
		self.port.Add("io_update_bits_mispred_mask_1", self.io_update_bits_mispred_mask_1.xdata)
		self.port.Add("io_update_bits_meta", self.io_update_bits_meta.xdata)
		self.port.Add("io_perf_0_value", self.io_perf_0_value.xdata)
		self.port.Add("io_perf_1_value", self.io_perf_1_value.xdata)
		self.port.Add("io_perf_2_value", self.io_perf_2_value.xdata)


	def __del__(self):
		super().__del__()
		self.finalize()

	def init_clock(self,name:str):
		self.xclock.Add(self.port[name])

	def Step(self,i: int):
		return self.xclock.Step(i)

	def StepRis(self, call_back, args=(), kwargs={}):
		return self.xclock.StepRis(call_back, args, kwargs)

	def StepFal(self, call_back, args=(), kwargs={}):
		return self.xclock.StepFal(call_back, args, kwargs)

	def __getitem__(self, key):
		return xsp.XPin(self.port[key], self.event)

	async def astep(self,i: int):
		return await self.xclock.AStep(i)

	async def acondition(self,fc_cheker):
		return await self.xclock.ACondition(fc_cheker)

	def runstep(self,i: int):
		return self.xclock.RunStep(i)

if __name__=="__main__":
	dut=DUTTage_SC("libDPITage_SC.so")
	dut.Step(1)
