
if __package__ or "." in __name__:
	from . import xspcomm as xsp
else:
	import xspcomm as xsp

if __package__ or "." in __name__:
	from .libUT_FauFTB import *
else:
	from libUT_FauFTB import *


class DUTFauFTB(DutUnifiedBase):

	# 初始化
	def __init__(self, waveform_filename=None, coverage_filename=None, *a, **kw):
		super().__init__(*a, **kw)
		self.xclock = xsp.XClock(self.step)
		self.port  = xsp.XPort()
		self.xclock.Add(self.port)
		self.event = self.xclock.getEvent()

		# set output files
		if waveform_filename:
			super().set_waveform(waveform_filename)
		if coverage_filename:
			super().set_coverage(coverage_filename)

		# all Pins
		self.clock = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.reset = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_reset_vector = xsp.XPin(xsp.XData(36, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_0 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_1 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_2 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_in_bits_s0_pc_3 = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_out_s1_pc_0 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_pc_1 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_pc_2 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_pc_3 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_slot_valids_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_slot_valids_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_targets_0 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_targets_1 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_offsets_0 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_offsets_1 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_fallThroughAddr = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_is_br_sharing = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_0_hit = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_slot_valids_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_slot_valids_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_targets_0 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_targets_1 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_offsets_0 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_offsets_1 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_fallThroughAddr = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_is_br_sharing = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_1_hit = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_slot_valids_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_slot_valids_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_targets_0 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_targets_1 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_offsets_0 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_offsets_1 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_fallThroughAddr = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_is_br_sharing = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_2_hit = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_slot_valids_0 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_slot_valids_1 = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_targets_0 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_targets_1 = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_offsets_0 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_offsets_1 = xsp.XPin(xsp.XData(4, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_fallThroughAddr = xsp.XPin(xsp.XData(41, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_fallThroughErr = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_is_br_sharing = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_s1_full_pred_3_hit = xsp.XPin(xsp.XData(0, xsp.XData.Out), self.event)
		self.io_out_last_stage_meta = xsp.XPin(xsp.XData(223, xsp.XData.Out), self.event)
		self.io_ctrl_ubtb_enable = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_2 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s0_fire_3 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s1_fire_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_s2_fire_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_valid = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_pc = xsp.XPin(xsp.XData(41, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_brSlots_0_offset = xsp.XPin(xsp.XData(4, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_brSlots_0_lower = xsp.XPin(xsp.XData(12, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_brSlots_0_tarStat = xsp.XPin(xsp.XData(2, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_brSlots_0_valid = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_offset = xsp.XPin(xsp.XData(4, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_lower = xsp.XPin(xsp.XData(20, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_tarStat = xsp.XPin(xsp.XData(2, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_sharing = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_tailSlot_valid = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_pftAddr = xsp.XPin(xsp.XData(4, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_carry = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_always_taken_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_ftb_entry_always_taken_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_br_taken_mask_0 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_br_taken_mask_1 = xsp.XPin(xsp.XData(0, xsp.XData.In), self.event)
		self.io_update_bits_meta = xsp.XPin(xsp.XData(223, xsp.XData.In), self.event)
		self.io_perf_0_value = xsp.XPin(xsp.XData(6, xsp.XData.Out), self.event)
		self.io_perf_1_value = xsp.XPin(xsp.XData(6, xsp.XData.Out), self.event)


		# BindDPI
		self.clock.BindDPIRW(DPIRclock, DPIWclock)
		self.reset.BindDPIRW(DPIRreset, DPIWreset)
		self.io_reset_vector.BindDPIRW(DPIRio_reset_vector, DPIWio_reset_vector)
		self.io_in_bits_s0_pc_0.BindDPIRW(DPIRio_in_bits_s0_pc_0, DPIWio_in_bits_s0_pc_0)
		self.io_in_bits_s0_pc_1.BindDPIRW(DPIRio_in_bits_s0_pc_1, DPIWio_in_bits_s0_pc_1)
		self.io_in_bits_s0_pc_2.BindDPIRW(DPIRio_in_bits_s0_pc_2, DPIWio_in_bits_s0_pc_2)
		self.io_in_bits_s0_pc_3.BindDPIRW(DPIRio_in_bits_s0_pc_3, DPIWio_in_bits_s0_pc_3)
		self.io_out_s1_pc_0.BindDPIRW(DPIRio_out_s1_pc_0, DPIWio_out_s1_pc_0)
		self.io_out_s1_pc_1.BindDPIRW(DPIRio_out_s1_pc_1, DPIWio_out_s1_pc_1)
		self.io_out_s1_pc_2.BindDPIRW(DPIRio_out_s1_pc_2, DPIWio_out_s1_pc_2)
		self.io_out_s1_pc_3.BindDPIRW(DPIRio_out_s1_pc_3, DPIWio_out_s1_pc_3)
		self.io_out_s1_full_pred_0_br_taken_mask_0.BindDPIRW(DPIRio_out_s1_full_pred_0_br_taken_mask_0, DPIWio_out_s1_full_pred_0_br_taken_mask_0)
		self.io_out_s1_full_pred_0_br_taken_mask_1.BindDPIRW(DPIRio_out_s1_full_pred_0_br_taken_mask_1, DPIWio_out_s1_full_pred_0_br_taken_mask_1)
		self.io_out_s1_full_pred_0_slot_valids_0.BindDPIRW(DPIRio_out_s1_full_pred_0_slot_valids_0, DPIWio_out_s1_full_pred_0_slot_valids_0)
		self.io_out_s1_full_pred_0_slot_valids_1.BindDPIRW(DPIRio_out_s1_full_pred_0_slot_valids_1, DPIWio_out_s1_full_pred_0_slot_valids_1)
		self.io_out_s1_full_pred_0_targets_0.BindDPIRW(DPIRio_out_s1_full_pred_0_targets_0, DPIWio_out_s1_full_pred_0_targets_0)
		self.io_out_s1_full_pred_0_targets_1.BindDPIRW(DPIRio_out_s1_full_pred_0_targets_1, DPIWio_out_s1_full_pred_0_targets_1)
		self.io_out_s1_full_pred_0_offsets_0.BindDPIRW(DPIRio_out_s1_full_pred_0_offsets_0, DPIWio_out_s1_full_pred_0_offsets_0)
		self.io_out_s1_full_pred_0_offsets_1.BindDPIRW(DPIRio_out_s1_full_pred_0_offsets_1, DPIWio_out_s1_full_pred_0_offsets_1)
		self.io_out_s1_full_pred_0_fallThroughAddr.BindDPIRW(DPIRio_out_s1_full_pred_0_fallThroughAddr, DPIWio_out_s1_full_pred_0_fallThroughAddr)
		self.io_out_s1_full_pred_0_is_br_sharing.BindDPIRW(DPIRio_out_s1_full_pred_0_is_br_sharing, DPIWio_out_s1_full_pred_0_is_br_sharing)
		self.io_out_s1_full_pred_0_hit.BindDPIRW(DPIRio_out_s1_full_pred_0_hit, DPIWio_out_s1_full_pred_0_hit)
		self.io_out_s1_full_pred_1_br_taken_mask_0.BindDPIRW(DPIRio_out_s1_full_pred_1_br_taken_mask_0, DPIWio_out_s1_full_pred_1_br_taken_mask_0)
		self.io_out_s1_full_pred_1_br_taken_mask_1.BindDPIRW(DPIRio_out_s1_full_pred_1_br_taken_mask_1, DPIWio_out_s1_full_pred_1_br_taken_mask_1)
		self.io_out_s1_full_pred_1_slot_valids_0.BindDPIRW(DPIRio_out_s1_full_pred_1_slot_valids_0, DPIWio_out_s1_full_pred_1_slot_valids_0)
		self.io_out_s1_full_pred_1_slot_valids_1.BindDPIRW(DPIRio_out_s1_full_pred_1_slot_valids_1, DPIWio_out_s1_full_pred_1_slot_valids_1)
		self.io_out_s1_full_pred_1_targets_0.BindDPIRW(DPIRio_out_s1_full_pred_1_targets_0, DPIWio_out_s1_full_pred_1_targets_0)
		self.io_out_s1_full_pred_1_targets_1.BindDPIRW(DPIRio_out_s1_full_pred_1_targets_1, DPIWio_out_s1_full_pred_1_targets_1)
		self.io_out_s1_full_pred_1_offsets_0.BindDPIRW(DPIRio_out_s1_full_pred_1_offsets_0, DPIWio_out_s1_full_pred_1_offsets_0)
		self.io_out_s1_full_pred_1_offsets_1.BindDPIRW(DPIRio_out_s1_full_pred_1_offsets_1, DPIWio_out_s1_full_pred_1_offsets_1)
		self.io_out_s1_full_pred_1_fallThroughAddr.BindDPIRW(DPIRio_out_s1_full_pred_1_fallThroughAddr, DPIWio_out_s1_full_pred_1_fallThroughAddr)
		self.io_out_s1_full_pred_1_is_br_sharing.BindDPIRW(DPIRio_out_s1_full_pred_1_is_br_sharing, DPIWio_out_s1_full_pred_1_is_br_sharing)
		self.io_out_s1_full_pred_1_hit.BindDPIRW(DPIRio_out_s1_full_pred_1_hit, DPIWio_out_s1_full_pred_1_hit)
		self.io_out_s1_full_pred_2_br_taken_mask_0.BindDPIRW(DPIRio_out_s1_full_pred_2_br_taken_mask_0, DPIWio_out_s1_full_pred_2_br_taken_mask_0)
		self.io_out_s1_full_pred_2_br_taken_mask_1.BindDPIRW(DPIRio_out_s1_full_pred_2_br_taken_mask_1, DPIWio_out_s1_full_pred_2_br_taken_mask_1)
		self.io_out_s1_full_pred_2_slot_valids_0.BindDPIRW(DPIRio_out_s1_full_pred_2_slot_valids_0, DPIWio_out_s1_full_pred_2_slot_valids_0)
		self.io_out_s1_full_pred_2_slot_valids_1.BindDPIRW(DPIRio_out_s1_full_pred_2_slot_valids_1, DPIWio_out_s1_full_pred_2_slot_valids_1)
		self.io_out_s1_full_pred_2_targets_0.BindDPIRW(DPIRio_out_s1_full_pred_2_targets_0, DPIWio_out_s1_full_pred_2_targets_0)
		self.io_out_s1_full_pred_2_targets_1.BindDPIRW(DPIRio_out_s1_full_pred_2_targets_1, DPIWio_out_s1_full_pred_2_targets_1)
		self.io_out_s1_full_pred_2_offsets_0.BindDPIRW(DPIRio_out_s1_full_pred_2_offsets_0, DPIWio_out_s1_full_pred_2_offsets_0)
		self.io_out_s1_full_pred_2_offsets_1.BindDPIRW(DPIRio_out_s1_full_pred_2_offsets_1, DPIWio_out_s1_full_pred_2_offsets_1)
		self.io_out_s1_full_pred_2_fallThroughAddr.BindDPIRW(DPIRio_out_s1_full_pred_2_fallThroughAddr, DPIWio_out_s1_full_pred_2_fallThroughAddr)
		self.io_out_s1_full_pred_2_is_br_sharing.BindDPIRW(DPIRio_out_s1_full_pred_2_is_br_sharing, DPIWio_out_s1_full_pred_2_is_br_sharing)
		self.io_out_s1_full_pred_2_hit.BindDPIRW(DPIRio_out_s1_full_pred_2_hit, DPIWio_out_s1_full_pred_2_hit)
		self.io_out_s1_full_pred_3_br_taken_mask_0.BindDPIRW(DPIRio_out_s1_full_pred_3_br_taken_mask_0, DPIWio_out_s1_full_pred_3_br_taken_mask_0)
		self.io_out_s1_full_pred_3_br_taken_mask_1.BindDPIRW(DPIRio_out_s1_full_pred_3_br_taken_mask_1, DPIWio_out_s1_full_pred_3_br_taken_mask_1)
		self.io_out_s1_full_pred_3_slot_valids_0.BindDPIRW(DPIRio_out_s1_full_pred_3_slot_valids_0, DPIWio_out_s1_full_pred_3_slot_valids_0)
		self.io_out_s1_full_pred_3_slot_valids_1.BindDPIRW(DPIRio_out_s1_full_pred_3_slot_valids_1, DPIWio_out_s1_full_pred_3_slot_valids_1)
		self.io_out_s1_full_pred_3_targets_0.BindDPIRW(DPIRio_out_s1_full_pred_3_targets_0, DPIWio_out_s1_full_pred_3_targets_0)
		self.io_out_s1_full_pred_3_targets_1.BindDPIRW(DPIRio_out_s1_full_pred_3_targets_1, DPIWio_out_s1_full_pred_3_targets_1)
		self.io_out_s1_full_pred_3_offsets_0.BindDPIRW(DPIRio_out_s1_full_pred_3_offsets_0, DPIWio_out_s1_full_pred_3_offsets_0)
		self.io_out_s1_full_pred_3_offsets_1.BindDPIRW(DPIRio_out_s1_full_pred_3_offsets_1, DPIWio_out_s1_full_pred_3_offsets_1)
		self.io_out_s1_full_pred_3_fallThroughAddr.BindDPIRW(DPIRio_out_s1_full_pred_3_fallThroughAddr, DPIWio_out_s1_full_pred_3_fallThroughAddr)
		self.io_out_s1_full_pred_3_fallThroughErr.BindDPIRW(DPIRio_out_s1_full_pred_3_fallThroughErr, DPIWio_out_s1_full_pred_3_fallThroughErr)
		self.io_out_s1_full_pred_3_is_br_sharing.BindDPIRW(DPIRio_out_s1_full_pred_3_is_br_sharing, DPIWio_out_s1_full_pred_3_is_br_sharing)
		self.io_out_s1_full_pred_3_hit.BindDPIRW(DPIRio_out_s1_full_pred_3_hit, DPIWio_out_s1_full_pred_3_hit)
		self.io_out_last_stage_meta.BindDPIRW(DPIRio_out_last_stage_meta, DPIWio_out_last_stage_meta)
		self.io_ctrl_ubtb_enable.BindDPIRW(DPIRio_ctrl_ubtb_enable, DPIWio_ctrl_ubtb_enable)
		self.io_s0_fire_0.BindDPIRW(DPIRio_s0_fire_0, DPIWio_s0_fire_0)
		self.io_s0_fire_1.BindDPIRW(DPIRio_s0_fire_1, DPIWio_s0_fire_1)
		self.io_s0_fire_2.BindDPIRW(DPIRio_s0_fire_2, DPIWio_s0_fire_2)
		self.io_s0_fire_3.BindDPIRW(DPIRio_s0_fire_3, DPIWio_s0_fire_3)
		self.io_s1_fire_0.BindDPIRW(DPIRio_s1_fire_0, DPIWio_s1_fire_0)
		self.io_s2_fire_0.BindDPIRW(DPIRio_s2_fire_0, DPIWio_s2_fire_0)
		self.io_update_valid.BindDPIRW(DPIRio_update_valid, DPIWio_update_valid)
		self.io_update_bits_pc.BindDPIRW(DPIRio_update_bits_pc, DPIWio_update_bits_pc)
		self.io_update_bits_ftb_entry_brSlots_0_offset.BindDPIRW(DPIRio_update_bits_ftb_entry_brSlots_0_offset, DPIWio_update_bits_ftb_entry_brSlots_0_offset)
		self.io_update_bits_ftb_entry_brSlots_0_lower.BindDPIRW(DPIRio_update_bits_ftb_entry_brSlots_0_lower, DPIWio_update_bits_ftb_entry_brSlots_0_lower)
		self.io_update_bits_ftb_entry_brSlots_0_tarStat.BindDPIRW(DPIRio_update_bits_ftb_entry_brSlots_0_tarStat, DPIWio_update_bits_ftb_entry_brSlots_0_tarStat)
		self.io_update_bits_ftb_entry_brSlots_0_valid.BindDPIRW(DPIRio_update_bits_ftb_entry_brSlots_0_valid, DPIWio_update_bits_ftb_entry_brSlots_0_valid)
		self.io_update_bits_ftb_entry_tailSlot_offset.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_offset, DPIWio_update_bits_ftb_entry_tailSlot_offset)
		self.io_update_bits_ftb_entry_tailSlot_lower.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_lower, DPIWio_update_bits_ftb_entry_tailSlot_lower)
		self.io_update_bits_ftb_entry_tailSlot_tarStat.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_tarStat, DPIWio_update_bits_ftb_entry_tailSlot_tarStat)
		self.io_update_bits_ftb_entry_tailSlot_sharing.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_sharing, DPIWio_update_bits_ftb_entry_tailSlot_sharing)
		self.io_update_bits_ftb_entry_tailSlot_valid.BindDPIRW(DPIRio_update_bits_ftb_entry_tailSlot_valid, DPIWio_update_bits_ftb_entry_tailSlot_valid)
		self.io_update_bits_ftb_entry_pftAddr.BindDPIRW(DPIRio_update_bits_ftb_entry_pftAddr, DPIWio_update_bits_ftb_entry_pftAddr)
		self.io_update_bits_ftb_entry_carry.BindDPIRW(DPIRio_update_bits_ftb_entry_carry, DPIWio_update_bits_ftb_entry_carry)
		self.io_update_bits_ftb_entry_always_taken_0.BindDPIRW(DPIRio_update_bits_ftb_entry_always_taken_0, DPIWio_update_bits_ftb_entry_always_taken_0)
		self.io_update_bits_ftb_entry_always_taken_1.BindDPIRW(DPIRio_update_bits_ftb_entry_always_taken_1, DPIWio_update_bits_ftb_entry_always_taken_1)
		self.io_update_bits_br_taken_mask_0.BindDPIRW(DPIRio_update_bits_br_taken_mask_0, DPIWio_update_bits_br_taken_mask_0)
		self.io_update_bits_br_taken_mask_1.BindDPIRW(DPIRio_update_bits_br_taken_mask_1, DPIWio_update_bits_br_taken_mask_1)
		self.io_update_bits_meta.BindDPIRW(DPIRio_update_bits_meta, DPIWio_update_bits_meta)
		self.io_perf_0_value.BindDPIRW(DPIRio_perf_0_value, DPIWio_perf_0_value)
		self.io_perf_1_value.BindDPIRW(DPIRio_perf_1_value, DPIWio_perf_1_value)

		# Add2Port
		self.port.Add("clock", self.clock.xdata)
		self.port.Add("reset", self.reset.xdata)
		self.port.Add("io_reset_vector", self.io_reset_vector.xdata)
		self.port.Add("io_in_bits_s0_pc_0", self.io_in_bits_s0_pc_0.xdata)
		self.port.Add("io_in_bits_s0_pc_1", self.io_in_bits_s0_pc_1.xdata)
		self.port.Add("io_in_bits_s0_pc_2", self.io_in_bits_s0_pc_2.xdata)
		self.port.Add("io_in_bits_s0_pc_3", self.io_in_bits_s0_pc_3.xdata)
		self.port.Add("io_out_s1_pc_0", self.io_out_s1_pc_0.xdata)
		self.port.Add("io_out_s1_pc_1", self.io_out_s1_pc_1.xdata)
		self.port.Add("io_out_s1_pc_2", self.io_out_s1_pc_2.xdata)
		self.port.Add("io_out_s1_pc_3", self.io_out_s1_pc_3.xdata)
		self.port.Add("io_out_s1_full_pred_0_br_taken_mask_0", self.io_out_s1_full_pred_0_br_taken_mask_0.xdata)
		self.port.Add("io_out_s1_full_pred_0_br_taken_mask_1", self.io_out_s1_full_pred_0_br_taken_mask_1.xdata)
		self.port.Add("io_out_s1_full_pred_0_slot_valids_0", self.io_out_s1_full_pred_0_slot_valids_0.xdata)
		self.port.Add("io_out_s1_full_pred_0_slot_valids_1", self.io_out_s1_full_pred_0_slot_valids_1.xdata)
		self.port.Add("io_out_s1_full_pred_0_targets_0", self.io_out_s1_full_pred_0_targets_0.xdata)
		self.port.Add("io_out_s1_full_pred_0_targets_1", self.io_out_s1_full_pred_0_targets_1.xdata)
		self.port.Add("io_out_s1_full_pred_0_offsets_0", self.io_out_s1_full_pred_0_offsets_0.xdata)
		self.port.Add("io_out_s1_full_pred_0_offsets_1", self.io_out_s1_full_pred_0_offsets_1.xdata)
		self.port.Add("io_out_s1_full_pred_0_fallThroughAddr", self.io_out_s1_full_pred_0_fallThroughAddr.xdata)
		self.port.Add("io_out_s1_full_pred_0_is_br_sharing", self.io_out_s1_full_pred_0_is_br_sharing.xdata)
		self.port.Add("io_out_s1_full_pred_0_hit", self.io_out_s1_full_pred_0_hit.xdata)
		self.port.Add("io_out_s1_full_pred_1_br_taken_mask_0", self.io_out_s1_full_pred_1_br_taken_mask_0.xdata)
		self.port.Add("io_out_s1_full_pred_1_br_taken_mask_1", self.io_out_s1_full_pred_1_br_taken_mask_1.xdata)
		self.port.Add("io_out_s1_full_pred_1_slot_valids_0", self.io_out_s1_full_pred_1_slot_valids_0.xdata)
		self.port.Add("io_out_s1_full_pred_1_slot_valids_1", self.io_out_s1_full_pred_1_slot_valids_1.xdata)
		self.port.Add("io_out_s1_full_pred_1_targets_0", self.io_out_s1_full_pred_1_targets_0.xdata)
		self.port.Add("io_out_s1_full_pred_1_targets_1", self.io_out_s1_full_pred_1_targets_1.xdata)
		self.port.Add("io_out_s1_full_pred_1_offsets_0", self.io_out_s1_full_pred_1_offsets_0.xdata)
		self.port.Add("io_out_s1_full_pred_1_offsets_1", self.io_out_s1_full_pred_1_offsets_1.xdata)
		self.port.Add("io_out_s1_full_pred_1_fallThroughAddr", self.io_out_s1_full_pred_1_fallThroughAddr.xdata)
		self.port.Add("io_out_s1_full_pred_1_is_br_sharing", self.io_out_s1_full_pred_1_is_br_sharing.xdata)
		self.port.Add("io_out_s1_full_pred_1_hit", self.io_out_s1_full_pred_1_hit.xdata)
		self.port.Add("io_out_s1_full_pred_2_br_taken_mask_0", self.io_out_s1_full_pred_2_br_taken_mask_0.xdata)
		self.port.Add("io_out_s1_full_pred_2_br_taken_mask_1", self.io_out_s1_full_pred_2_br_taken_mask_1.xdata)
		self.port.Add("io_out_s1_full_pred_2_slot_valids_0", self.io_out_s1_full_pred_2_slot_valids_0.xdata)
		self.port.Add("io_out_s1_full_pred_2_slot_valids_1", self.io_out_s1_full_pred_2_slot_valids_1.xdata)
		self.port.Add("io_out_s1_full_pred_2_targets_0", self.io_out_s1_full_pred_2_targets_0.xdata)
		self.port.Add("io_out_s1_full_pred_2_targets_1", self.io_out_s1_full_pred_2_targets_1.xdata)
		self.port.Add("io_out_s1_full_pred_2_offsets_0", self.io_out_s1_full_pred_2_offsets_0.xdata)
		self.port.Add("io_out_s1_full_pred_2_offsets_1", self.io_out_s1_full_pred_2_offsets_1.xdata)
		self.port.Add("io_out_s1_full_pred_2_fallThroughAddr", self.io_out_s1_full_pred_2_fallThroughAddr.xdata)
		self.port.Add("io_out_s1_full_pred_2_is_br_sharing", self.io_out_s1_full_pred_2_is_br_sharing.xdata)
		self.port.Add("io_out_s1_full_pred_2_hit", self.io_out_s1_full_pred_2_hit.xdata)
		self.port.Add("io_out_s1_full_pred_3_br_taken_mask_0", self.io_out_s1_full_pred_3_br_taken_mask_0.xdata)
		self.port.Add("io_out_s1_full_pred_3_br_taken_mask_1", self.io_out_s1_full_pred_3_br_taken_mask_1.xdata)
		self.port.Add("io_out_s1_full_pred_3_slot_valids_0", self.io_out_s1_full_pred_3_slot_valids_0.xdata)
		self.port.Add("io_out_s1_full_pred_3_slot_valids_1", self.io_out_s1_full_pred_3_slot_valids_1.xdata)
		self.port.Add("io_out_s1_full_pred_3_targets_0", self.io_out_s1_full_pred_3_targets_0.xdata)
		self.port.Add("io_out_s1_full_pred_3_targets_1", self.io_out_s1_full_pred_3_targets_1.xdata)
		self.port.Add("io_out_s1_full_pred_3_offsets_0", self.io_out_s1_full_pred_3_offsets_0.xdata)
		self.port.Add("io_out_s1_full_pred_3_offsets_1", self.io_out_s1_full_pred_3_offsets_1.xdata)
		self.port.Add("io_out_s1_full_pred_3_fallThroughAddr", self.io_out_s1_full_pred_3_fallThroughAddr.xdata)
		self.port.Add("io_out_s1_full_pred_3_fallThroughErr", self.io_out_s1_full_pred_3_fallThroughErr.xdata)
		self.port.Add("io_out_s1_full_pred_3_is_br_sharing", self.io_out_s1_full_pred_3_is_br_sharing.xdata)
		self.port.Add("io_out_s1_full_pred_3_hit", self.io_out_s1_full_pred_3_hit.xdata)
		self.port.Add("io_out_last_stage_meta", self.io_out_last_stage_meta.xdata)
		self.port.Add("io_ctrl_ubtb_enable", self.io_ctrl_ubtb_enable.xdata)
		self.port.Add("io_s0_fire_0", self.io_s0_fire_0.xdata)
		self.port.Add("io_s0_fire_1", self.io_s0_fire_1.xdata)
		self.port.Add("io_s0_fire_2", self.io_s0_fire_2.xdata)
		self.port.Add("io_s0_fire_3", self.io_s0_fire_3.xdata)
		self.port.Add("io_s1_fire_0", self.io_s1_fire_0.xdata)
		self.port.Add("io_s2_fire_0", self.io_s2_fire_0.xdata)
		self.port.Add("io_update_valid", self.io_update_valid.xdata)
		self.port.Add("io_update_bits_pc", self.io_update_bits_pc.xdata)
		self.port.Add("io_update_bits_ftb_entry_brSlots_0_offset", self.io_update_bits_ftb_entry_brSlots_0_offset.xdata)
		self.port.Add("io_update_bits_ftb_entry_brSlots_0_lower", self.io_update_bits_ftb_entry_brSlots_0_lower.xdata)
		self.port.Add("io_update_bits_ftb_entry_brSlots_0_tarStat", self.io_update_bits_ftb_entry_brSlots_0_tarStat.xdata)
		self.port.Add("io_update_bits_ftb_entry_brSlots_0_valid", self.io_update_bits_ftb_entry_brSlots_0_valid.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_offset", self.io_update_bits_ftb_entry_tailSlot_offset.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_lower", self.io_update_bits_ftb_entry_tailSlot_lower.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_tarStat", self.io_update_bits_ftb_entry_tailSlot_tarStat.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_sharing", self.io_update_bits_ftb_entry_tailSlot_sharing.xdata)
		self.port.Add("io_update_bits_ftb_entry_tailSlot_valid", self.io_update_bits_ftb_entry_tailSlot_valid.xdata)
		self.port.Add("io_update_bits_ftb_entry_pftAddr", self.io_update_bits_ftb_entry_pftAddr.xdata)
		self.port.Add("io_update_bits_ftb_entry_carry", self.io_update_bits_ftb_entry_carry.xdata)
		self.port.Add("io_update_bits_ftb_entry_always_taken_0", self.io_update_bits_ftb_entry_always_taken_0.xdata)
		self.port.Add("io_update_bits_ftb_entry_always_taken_1", self.io_update_bits_ftb_entry_always_taken_1.xdata)
		self.port.Add("io_update_bits_br_taken_mask_0", self.io_update_bits_br_taken_mask_0.xdata)
		self.port.Add("io_update_bits_br_taken_mask_1", self.io_update_bits_br_taken_mask_1.xdata)
		self.port.Add("io_update_bits_meta", self.io_update_bits_meta.xdata)
		self.port.Add("io_perf_0_value", self.io_perf_0_value.xdata)
		self.port.Add("io_perf_1_value", self.io_perf_1_value.xdata)


	def __del__(self):
		super().__del__()
		self.finalize()

	def init_clock(self,name:str):
		self.xclock.Add(self.port[name])

	def Step(self,i: int):
		return self.xclock.Step(i)

	def StepRis(self, call_back, args=(), kwargs={}):
		return self.xclock.StepRis(call_back, args, kwargs)

	def StepFal(self, call_back, args=(), kwargs={}):
		return self.xclock.StepFal(call_back, args, kwargs)

	def __getitem__(self, key):
		return xsp.XPin(self.port[key], self.event)

	async def astep(self,i: int):
		return await self.xclock.AStep(i)

	async def acondition(self,fc_cheker):
		return await self.xclock.ACondition(fc_cheker)

	def runstep(self,i: int):
		return self.xclock.RunStep(i)

if __name__=="__main__":
	dut=DUTFauFTB("libDPIFauFTB.so")
	dut.Step(1)
